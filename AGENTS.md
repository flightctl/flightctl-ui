# Flight Control UI – Project context for AI assistants

This file orients AI tools to the flightctl-ui repo layout and conventions. The UI is a monorepo (React/TypeScript) that works against the Flight Control API; Backend repository is [flightctl](https://github.com/flightctl/flightctl).

## Repository layout

| Path                   | Purpose                                                                |
| ---------------------- | ---------------------------------------------------------------------- |
| **apps/standalone**    | Standalone web app.                                                    |
| **apps/ocp-plugin**    | OpenShift Console plugin.                                              |
| **libs/types**         | API types and client code generated from the flightctl OpenAPI schema. |
| **libs/ui-components** | Shared UI components.                                                  |
| **libs/i18n**          | Internationalization; contains generated translation file.             |
| **libs/cypress**       | E2E tests.                                                             |

## Generated files – do not edit by hand

- **Models / API types** (`libs/types`): Generated from the flightctl OpenAPI schema. Regenerate with **`npm run gen-types`** (from repo root). Do not modify generated files manually; changes are driven entirely from the OpenAPI spec in the flightctl repo.
- **Translations** (`libs/i18n/locales/en/translation.json`): Generated by scanning source for i18n keys. Regenerate with **`npm run i18n`** (from repo root). Do not edit `translation.json` manually; add or fix keys in the source and run the command. Translation expressions can include variables, but the text itself must be hardcoded for the extraction to work. **Good:** `t('This is OK', { someVar })` — **Bad:** `t(usingAVariableIsNotOk)` (key not extractable).

## Conventions and assumptions

- **`resource.metadata.name`**: In this codebase, `metadata.name` is always treated as defined for resources that have been created or returned by the API, even though the generated TypeScript types may mark it as optional. Use it without optional chaining when the resource is known to be a full resource (e.g. from list/get); handle undefined only when the type truly represents a partial or input payload.

## Build and development

- **Install:** `npm install`
- **Develop (standalone):** `npm run dev` (or `npm run dev:kind` for kind backend)
- **Build:** `npm run build`
- **Lint:** `npm run lint` (includes ESLint, Prettier, and i18n check)

Before committing, run `npm run lint`. After API or copy changes, run `npm run gen-types` or `npm run i18n` as needed and commit the generated updates.
